# Performance issues detector

This project aims to detect performance issues by analyzing traces generated by OpenTelemetry during software execution, leveraging the existing structure of Jaeger UI.

## How to use it

For demonstration purposes, start the Docker containers defined in the [test assigment repository](https://github.com/egorklimov/test-assignment). Then, in the main directory of this repository, start Jaeger UI with the following command:


```
yarn start
```

In a web browser navigate to `http://localhost:5173` to view the main interface of Jaeger UI.

A full demonstration of usage can be seen [here](https://www.youtube.com/watch?v=tAX8tKMxUx8).

## Implementation

The solution enhances the existing layout of Jaeger UI by adding an extra module in the Trace view. Essentially, the implementation analyzes spans in a trace to identify **N+1 query** and **N+1 API calls** issues.

The criteria for identifying these issues include the number of repetitions of an operation and the aggregated duration of these repeating operations.

For **N+1 query** issues, the solution searches for a minimum number of consecutive query operations to a database. For **N+1 API calls**, the solution searches for a minimum number of consecutive API calls to an endpoint.

In both cases, the solution verifies that the aggregated duration of the operations (database queries or API calls) exceeds a certain threshold.

When both conditions are met, a new performance issue is detected.

In the UI, users can see information about the performance issue, including the duration, number of repetitions, and the repeating operation. The view also includes a visualization of the involved spans with a simple timeline showing the duration of each one.

Each section of the performance issues presents controls to modify the threshold values, such as the minimum number of involved spans and the minimum duration.

## Conclusion

This project demonstrates how traces can be analyzed to detect performance issues during runtime. It leverages the existing structure of Jaeger UI to reduce the complexity of building a solution from scratch.

## Future work

The current solution demonstrates that straightforward trace analysis can be used to detect performance issues. Future work could focus on including additional criteria to detect other types of performance issues. Additionally, the solution could implement modules for automatic detection using machine learning models.
